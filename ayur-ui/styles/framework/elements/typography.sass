@use "./../variables"
@use "./../mixins"
@use "sass:math"
@use "sass:map"

$headingSizeThreshold: 1023
\:root 
  --font-family-main: "Hind Madurai", sans-serif
  --font-family-headings: "Montserrat", sans-serif  
  --font-family-hero: var(--font-family-headings)
  --font-family-headings-secondary: "Lora", serif
  --font-stack-main: 400 1.6rem/1.4 var(--font-family-main, sans-serif), sans-serif
  
p
  margin: 0 0 0.5rem
@for $i from -1 through 4
  .#{h}#{5 - $i}, #{h}#{5-$i}
    font-family: var(--font-family-headings, var(--font-stack-main))
    font-weight: var(--weight-bold, 700)    
    margin: 0
    @if $i >= 0
      line-height: 1.2
      font-size: clamp(#{(map.get(variables.$mobileTypoScale, "base") * math.pow(map.get(variables.$mobileTypoScale, "ratio"), $i))}#{"rem"} , #{map.get(variables.$typoScale, "base") * math.pow(map.get(variables.$typoScale, "ratio"),$i)}#{"rem"},  #{(map.get(variables.$typoScale, "base") * math.pow(map.get(variables.$typoScale, "ratio"),$i))*1000/$headingSizeThreshold}#{"vw"})
    @else 
      font-size: clamp(#{(map.get(variables.$mobileTypoScale, "base") * 1 / math.pow(map.get(variables.$mobileTypoScale, "ratio"), $i))}#{"rem"} , #{map.get(variables.$typoScale, "base") * 1 / math.pow(map.get(variables.$typoScale, "ratio"),$i)}#{"rem"},  #{(map.get(variables.$typoScale, "base") * math.pow(map.get(variables.$typoScale, "ratio"),$i))*1000/$headingSizeThreshold}#{"vw"})  
    
@for $i from 5 through 6
  .hr#{7-$i}
    font-family: var(--font-family-hero)    
    font-weight: var(--weight-bold, 700)      
    margin: 0
    line-height: 1
    @if $i >= 0
      font-size: clamp(#{(map.get(variables.$mobileTypoScale, "base") * math.pow(map.get(variables.$mobileTypoScale, "ratio"), $i))}#{"rem"} , #{map.get(variables.$typoScale, "base") * math.pow(map.get(variables.$typoScale, "ratio"),$i)}#{"rem"},  #{(map.get(variables.$typoScale, "base") * math.pow(map.get(variables.$typoScale, "ratio"),$i))*1000/$headingSizeThreshold}#{"vw"})    
    @else 
      font-size: clamp(#{(map.get(variables.$mobileTypoScale, "base") * 1 / math.pow(map.get(variables.$mobileTypoScale, "ratio"), $i))}#{"rem"} , #{map.get(variables.$typoScale, "base") * 1 / math.pow(map.get(variables.$typoScale, "ratio"),$i)}#{"rem"},  #{(map.get(variables.$typoScale, "base") * math.pow(map.get(variables.$typoScale, "ratio"),$i))*1000/$headingSizeThreshold}#{"vw"})   

\:root 
  @each $name,$i in variables.$contentFontSizesMap 
    @if $i >= 0
      #{--font-}#{$name}: clamp(#{(map.get(variables.$mobileTypoScale, "base") * math.pow(map.get(variables.$mobileTypoScale, "ratio"), $i))}#{"rem"} , #{map.get(variables.$typoScale, "base") * math.pow(map.get(variables.$typoScale, "ratio"),$i)}#{"rem"},  #{(map.get(variables.$typoScale, "base") * math.pow(map.get(variables.$typoScale, "ratio"),$i))*1000/$headingSizeThreshold}#{"vw"})
    @else
      #{--font-}#{$name}: clamp(#{(math.min((map.get(variables.$mobileTypoScale, "base") * 1 / math.pow(map.get(variables.$mobileTypoScale, "ratio"), math.abs($i))), map.get(variables.$typoScale, "base") * 1 / math.pow(map.get(variables.$typoScale, "ratio"),math.abs($i)) ))}#{"rem"} , #{map.get(variables.$typoScale, "base") * 1 / math.pow(map.get(variables.$typoScale, "ratio"),math.abs($i))}#{"rem"},  #{(map.get(variables.$typoScale, "base") * math.pow(map.get(variables.$typoScale, "ratio"),math.abs($i)))*1000/$headingSizeThreshold}#{"vw"})


    
   

  